---
title: 策略模式
date: 2024-03-04
category: Design-pattern
---

## 策略模式

定义一些列算法, 并将每种算法分别放入独立的类中, 使算法的对象能够相互替换.

通俗来讲

![类比](https://refactoringguru.cn/images/patterns/content/strategy/strategy-comic-1-zh.png)

### 优点

- 可以在运行时切换对象内的算法.

- 可以将算法的实现和使用算法的代码隔离开来.

- 可以使用组合来代替继承.

- **开闭原则**: 无需对上下文进行修改就能够引入新的策略

### 缺点

- 如果算法极少发生改变, 那么没有任何理由引入新的类和接口. 使用该模式只会让程序过于复杂.

- 客户端必须知晓策略间的不同 —— 它需要选择合适的策略

- 许多现代编程语言支持函数类型功能, 允许你在一组匿名函数中实现不同版本的算法. 这样, 使用这些函数的方式就和使用策略对象时完全相同, 无需借助额外的类和接口来保持代码简洁.

### 适用场景

- 使用对象中各种不同的算法变体, 并希望能在运行时切换算法时

- 有许多仅在执行某些行为时略有不同的相似类时

- 如果算法在上下文的逻辑中不是特别重要, 使用该模式能将类的业务逻辑与其算法实现细节隔离开来

- 当类中使用了复杂条件运算符以在同一算法的不同变体中切换时

### 实现

::: details 点击查看代码

<<< @/docs/_code/TypeScript/Strategy-pattern.ts

:::

