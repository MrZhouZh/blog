---
title: 命令模式
date: 2024-03-04
category: Design-pattern
---

## 命令模式

将请求转换为一个包含与请求相关的所有信息的独立对象

通俗来讲

![类比](https://refactoringguru.cn/images/patterns/content/command/command-comic-1.png?id=551df832f445080976f3116e0dc120c9)

### 优点

- **单一职责原则** 可以解耦触发和执行操作的类.

- **开闭原则** 可以在不修改已有客户端代码的情况下在程序中创建新的命令.

- 可以实现撤销和恢复功能

- 可以实现操作的延迟执行

- 可以将一组简单命令组合成一个复杂的命令

### 缺点

- 代码变得更加复杂. 因为在发送者和接收者之间增加了一个全新的层次.

### 适用场景

- 如果需要通过操作来参数化对象

  例如开发一个GUI组件(上下文菜单), 希望用户能够配置菜单项, 并在点击菜单项时触发操作.

- 如果想要将操作放入队列中, 操作的执行或者远程执行操作

- 如果想要实现操作回滚功能

### 实现

::: details 点击查看代码

<<< @/docs/_code/TypeScript/Command-pattern.ts

:::

